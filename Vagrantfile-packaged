# -*- mode: ruby -*-
# vi: set ft=ruby :

ENV['ANSIBLE_CONFIG'] = "./ansible.cfg"

vagrant_network_ip = "192.168.56.100"

Vagrant.configure(2) do |config|

	#
	# Centos
	#
	config.vm.box = "vagrant-generic-vm.box"

	#
	# Network
	#
	config.vm.network "private_network", ip: "#{vagrant_network_ip}"

	#
	# Synced folder
	#
	# config.vm.synced_folder "~/Development/Websites", "/var/www", type: "nfs"
	config.vm.synced_folder "~/Development/Websites", "/var/www", mount_options: ["dmode=777,fmode=777"]

    #
	# Debug
	#
    # config.vm.provider "virtualbox" do |v|
    #   v.gui = true
    # end

	#
	# Remove default options
	#
	config.vm.synced_folder ".", "/home/vagrant/sync", :disabled => true
	config.vm.synced_folder ".", "/vagrant", :disabled => true

	#
	# Virtual machine config
	#
	config.vm.define "generic" do |generic|
    	generic.vm.hostname = "genericvm.local"
    end

	#
	# VirtualBox config
	#
	config.vm.provider "virtualbox" do |virtualbox|
    	virtualbox.memory = 1024
    	virtualbox.customize ["modifyvm", :id, "--natdnshostresolver1", "off"]
    end

	#
	# Additional scripts
	#
	config.vm.provision :shell, run: "always", path: "ansible/scripts/services.sh"

end
